# load cmdstanr and compile the Stan model
```{r}
library(cmdstanr)
mod <- cmdstan_model("03_modeling/model.stan")
```


## fit the model
```{r}
fit <- mod$sample(
  data = stan_data,
  chains = 4,
  parallel_chains = 4,
  iter_warmup = 1000,
  iter_sampling = 1000,
  adapt_delta = 0.95,
  max_treedepth = 15
)

# 4) diagnostics
print(fit$summary(c("beta","gamma","R0","rho","phi")))
mcmc_trace(as_draws_df(fit$draws(c("beta","gamma"))))
```
